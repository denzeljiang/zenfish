<html>  
  <head>  
    <title>fish</title>  
<style type="text/css">  
  canvas { border: 1px solid black; }  
</style>  
  </head>  
  <body>  
    <canvas id="fish" width="1200" height="800"></canvas> 
    <span id="debug"></span>
  </body>  
  <script type="text/javascript" src="fish.js"></script>  
  <script type="text/javascript">
var canvas = document.getElementById('fish');  
if (canvas.getContext){  
  var ctx = canvas.getContext('2d');
  var gf = new GoldFish(ctx);
  gf.init(100,100);
  document.getElementById("fish").onmousemove = function(e){
    if(e.offsetX) {
      gf.chasingX = e.offsetX;
      gf.chasingY = e.offsetY;
    }
    else if(e.layerX) {
      gf.chasingX = e.layerX;
      gf.chasingY = e.layerY;
    }
  }
  window.setInterval(function(){
    gf.chase(gf.chasingX,gf.chasingY);
    if(Math.floor(Math.random()*300) == 0 ){
      if( gf.speed == 1) gf.speed = 2;
    }
    if(Math.floor(Math.random()*90) == 0 ){
      if( gf.speed != 1) gf.speed = 1;
    }
    gf.draw();
  },30);
}  
  </script>
</html>  
